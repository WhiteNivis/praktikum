# [Оценка риска ДТП](https://github.com/WhiteNivis/praktikum/tree/main/12-Разработка%20системы%20предупреждения%20аварий%20на%20каршеринге)

Для каршеринговой компании требуется создать систему, которая могла бы оценить риск ДТП по выбранному маршруту движения. Под риском понимается вероятность ДТП с любым повреждением транспортного средства. Как только водитель забронировал автомобиль, сел за руль и выбрал маршрут, система должна оценить уровень риска. Если уровень риска высок, водитель увидит предупреждение и рекомендации по маршруту.

<font color='green'>Цель</font>

Выбрать оптимальную модель для предсказания риска ДТП.

<font color='green'>Задачи</font>

- исследовать данные;
- подготовить данные;
- создать модель;
- исследовать основные факторы ДТП;
- понять, помогут ли результаты моделирования и анализ важности факторов ответить на вопросы:
   
  - Возможно ли создать адекватную системы оценки водительского риска при выдаче авто?
  - Какие ещё факторы нужно учесть?
  - Нужно ли оборудовать автомобиль какими-либо датчиками или камерой?


<font color='green'>Таблицы БД `data-science-vehicle-db`</font>

- `collisions` — общая информация о ДТП;
- `parties` - информация об участниках ДТП;
- `vehicles` - информация о пострадавших машинах.

<img src="https://pictures.s3.yandex.net/resources/1.7_2880border_1_1654004672.png">

<font color='green'>Признаки</font>

`collisions` (информация о происшествиях)

- `CASE_ID` — уникальный номер для зарегистрированного происшествия в таблице происшествий;
- `COLLISION_DATE` — дата происшествия;
- `COLLISION_TIME` — время происшествия;
- `INTERSECTION` — является ли место происшествие перекрёстком (Y — перекрёсток, N — не перекрёсток;
- `WEATHER_1` — погода;
- `COLLISION_DAMAGE` — серьёзность происшествия;
- `PRIMARY_COLL_FACTOR` — основной фактор аварии ;
- `ROAD_SURFACE` — состояние дороги;
- `LIGHTING` — освещение;
- `COUNTY_CITY_LOCATION` — номер географических районов, где произошло ДТП;
- `COUNTY_LOCATION` — названия географических районов, где произошло ДТП;
- `DIRECTION` — направление движения;
- `LOCATION_TYPE` — тип дороги;
- `PARTY_COUNT` — количество участников;
- `PCF_VIOLATION_CATEGORY` — категория нарушения;
- `TYPE_OF_COLLISION` — тип аварии;
- `MOTOR_VEHICLE_INVOLVED_WITH` — дополнительные участники ДТП;
- `ROAD_CONDITION_1` — дорожное состояние	;
- `CONTROL_CONDITION_1` — устройство управления;


`parties` (информация о происшествиях)

- `CASE_ID` — уникальный номер для зарегистрированного происшествия в таблице происшествий;
- `PARTY_NUMBER` — номер участника происшествия;
- `PARTY_TYPE` — тип участника происшествия;
- `INSURANCE_PREMIUM` — cумма страховки (тыс.дол.);
- `PARTY_DRUG_PHYSICAL` — состояние участника: физическое или с учётом принятых лекарств;
- `PARTY_SOBRIETY` — трезвость участника;
- `CELLPHONE_IN_USE` — наличие телефона в автомобиле (возможности разговаривать по громкой связи);

`vehicles` (описание автомобиля)

- `CASE_ID` — уникальный номер для зарегистрированного происшествия в таблице происшествий;
- `VEHICLE_TYPE` — тип кузова;
- `VEHICLE_TRANSMISSION` — тип КПП;
- `VEHICLE_AGE` — возраст автомобиля (в годах);


<font color='green'>Целевой признак</font>

- `at_fault` - данные о виновнике в таблице parties.



## Общий вывод


Модель с лучшим значением F1 на train: CatBoost

F1 на тестовой выборке: 0.695

Полученные нами модели не сильно отличается от исcкусственной. Вероятно, для получения адекватной системы оценки водительского риска требуется пересмотреть список используемых параметров или учесть дополнительные факторы. 
Такими могут стать:
    
    - водительский стаж;
    - история поведения клиента в сервисе;
    - количество перекрестков на маршруте;
    - количество опасных участков на маршруте.

Рекомендуется обратить внимание на периодичность обновления автопарка компании (наша модель в качестве важного фактора выделила возраст авто). 

Рекомендуется принять предупредительные меры против самых частых категорий нарушений. Например:
    
    - превышение скорости: установить порог скорости, при его превышении предупреждать водителя; ввести штрафные санкции за нарушение.
    - неправильный поворот: голосовое предупреждение об опасных участках дороги. 
    - автомобильное право проезда: голосовое предупреждение об опасных участках дороги. 


